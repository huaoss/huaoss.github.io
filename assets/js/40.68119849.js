(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{306:function(n,e,t){"use strict";t.r(e);var s=t(13),a=Object(s.a)({},(function(){var n=this._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}},[n("p",[this._v("wxml")]),this._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[this._v('<view bindtouchstart="touchStart" bindtouchmove="touchMove" bindtouchend="touchEnd"></view>    \n')])])]),n("p",[this._v("js")]),this._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[this._v('var startX = 0;\nvar startY = 0;\nvar touchTime = 0;\nvar touchInterval = "";\n\nonLoad(){\n    this._leftAble = true;\n}\n\n// 触摸开始事件 \n    touchStart: function (e) {\n      // 获取触摸时的原点 \n      startX = e.touches[0].pageX;\n      startY = e.touches[0].pageY;\n      // 使用js计时器记录时间  \n      touchInterval = setInterval(function () {\n        time++;\n      }, 100);\n    },\n    // 触摸移动事件 \n    touchMove: function (e) {\n      let endX, endY;\n      endX = e.changedTouches[0].pageX;\n      endY = e.changedTouches[0].pageY;\n      let direction = this.getSlideDirection(startX, startY, endX, endY);\n      switch (direction) {\n        // case 0:\n        //   console.log("没滑动");\n        //   break;\n        // case 1:\n        //   console.log("上");\n        //   break;\n        // case 2:\n        //   console.log("下");\n        //   break;\n        case 3:\n          // console.log("左");\n          // console.log(endX);\n          // console.log(startX);\n          // console.log(endX - startX);\n          if (endX - startX <= -120 && this._leftAble){\n            this.goUserLiveList();\n            // 一秒内不可重复触发\n            this._leftAble = false;\n            setTimeout(() => { this._leftAble = true;},1000)\n          }\n          break;\n        // case 4:\n        //   console.log("右");\n        //   break;\n      };\n      // var touchMove = e.touches[0].pageX;\n      // // 向左滑动  \n      // if (touchMove - touchDot <= -120 && 2 < time < 20 && this._leftAble) {\n      //   this.goUserLiveList();\n      //   // 一秒内不可重复触发\n      //   this._leftAble = false;\n      //   setTimeout(() => { this._leftAble = true;},1000)\n      // }\n    },\n    // 触摸结束事件 \n    touchEnd: function (e) {\n    //   clearInterval(touchInterval); // 清除setInterval \n    //   time = 0;\n    },\n    \n    // 计算移动角度\n    getSlideAngle(dx, dy) {\n      return Math.atan2(dy, dx) * 180 / Math.PI;\n    },\n    // 判断移动方向\n    getSlideDirection(startX, startY, endX, endY) {\n      let dy = startY - endY;\n      let dx = endX - startX;\n      let result = 0;\n      if (Math.abs(dx) < 2 && Math.abs(dy) < 2) return result\n      let angle = this.getSlideAngle(dx, dy)\n      if (angle >= -45 && angle < 45) return 4\n      if (angle >= 45 && angle < 135) return 1\n      if (angle >= -135 && angle < -45) return 2\n      if ((angle >= 135 && angle <= 180) || (angle >= -180 && angle < -135)) return 3\n    },\n')])])])])}),[],!1,null,null,null);e.default=a.exports}}]);